{"ast":null,"code":"import{updateProfile,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';import{auth}from'../config/firebase';import{GET_USER_REQUEST,GET_USER_FAILURE,SET_USER_REQUEST,SET_USER_SUCCESS,SET_USER_FAILURE,CLEAR_USER_ERRORS}from'../actions/user';import{authRequestWithDispatch}from'../actions/api';// export const getCurrentUser = () => {\n//     return (dispatch: AppDispatch) => {\n//         return authRequestWithDispatch({\n//             dispatch,\n//             endpoint: 'get_current_user',\n//             types: [GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE],\n//         })\n//     }\n// }\nexport const signUpUser=(name,major,email,password,pid,year)=>{return async dispatch=>{dispatch({type:SET_USER_REQUEST});try{const userPromise=await createUserWithEmailAndPassword(auth,email,password);await updateProfile(userPromise.user,{displayName:name});}catch(err){dispatch({type:SET_USER_FAILURE,payload:{message:err.message,status:500}});return;}return authRequestWithDispatch({dispatch,endpoint:'create_user',method:'POST',types:[SET_USER_REQUEST,SET_USER_SUCCESS,SET_USER_FAILURE],data:{name,major,email,pid,year,onboarded:false}});};};export const signInApp=(email,password)=>{return async dispatch=>{dispatch({type:GET_USER_REQUEST});try{await signInWithEmailAndPassword(auth,email,password);}catch(err){dispatch({type:GET_USER_FAILURE,payload:{message:err.message,status:500}});}return;};};export const signOutApp=()=>{return async dispatch=>{dispatch({type:SET_USER_REQUEST,payload:undefined});try{await signOut(auth);}catch(error){console.error(error);}};};export const sendPassResetEmail=email=>{};export const updateEmail=email=>{};export const updatePassword=password=>{};export const resetUserErrors=()=>{return dispatch=>{dispatch({type:CLEAR_USER_ERRORS});};};","map":{"version":3,"names":["updateProfile","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","auth","GET_USER_REQUEST","GET_USER_FAILURE","SET_USER_REQUEST","SET_USER_SUCCESS","SET_USER_FAILURE","CLEAR_USER_ERRORS","authRequestWithDispatch","signUpUser","name","major","email","password","pid","year","dispatch","type","userPromise","user","displayName","err","payload","message","status","endpoint","method","types","data","onboarded","signInApp","signOutApp","undefined","error","console","sendPassResetEmail","updateEmail","updatePassword","resetUserErrors"],"sources":["/Users/zacharywolfe/Desktop/Clickit/clickit/src/authentication/firebase.ts"],"sourcesContent":["import {\n    updateProfile,\n    signInWithEmailAndPassword,\n    createUserWithEmailAndPassword,\n    signOut,\n    sendPasswordResetEmail,\n} from 'firebase/auth'\nimport { auth } from '../config/firebase'\nimport { AppDispatch } from '../store'\nimport {\n    GET_USER_REQUEST,\n    GET_USER_SUCCESS,\n    GET_USER_FAILURE,\n    SET_USER_REQUEST,\n    SET_USER_SUCCESS,\n    SET_USER_FAILURE,\n    CLEAR_USER_ERRORS,\n} from '../actions/user'\nimport { authRequestWithDispatch } from '../actions/api'\n\n// export const getCurrentUser = () => {\n//     return (dispatch: AppDispatch) => {\n//         return authRequestWithDispatch({\n//             dispatch,\n//             endpoint: 'get_current_user',\n//             types: [GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE],\n//         })\n//     }\n// }\n\nexport const signUpUser = (\n    name: string,\n    major: string,\n    email: string,\n    password: string,\n    pid: string,\n    year: number,\n) => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({ type: SET_USER_REQUEST })\n        try {\n            const userPromise = await createUserWithEmailAndPassword(\n                auth,\n                email,\n                password,\n            )\n            await updateProfile(userPromise.user, { displayName: name })\n        } catch (err: any) {\n            dispatch({\n                type: SET_USER_FAILURE,\n                payload: {\n                    message: err.message,\n                    status: 500,\n                },\n            })\n            return\n        }\n\n        return authRequestWithDispatch({\n            dispatch,\n            endpoint: 'create_user',\n            method: 'POST',\n            types: [SET_USER_REQUEST, SET_USER_SUCCESS, SET_USER_FAILURE],\n            data: {\n                name,\n                major,\n                email,\n                pid,\n                year,\n                onboarded: false,\n            },\n        })\n    }\n}\n\nexport const signInApp = (email: string, password: string) => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({ type: GET_USER_REQUEST })\n        try {\n            await signInWithEmailAndPassword(auth, email, password)\n        } catch (err: any) {\n            dispatch({\n                type: GET_USER_FAILURE,\n                payload: {\n                    message: err.message,\n                    status: 500,\n                },\n            })\n        }\n        return\n    }\n}\n\nexport const signOutApp = () => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({\n            type: SET_USER_REQUEST,\n            payload: undefined,\n        })\n        try {\n            await signOut(auth)\n        } catch (error: any) {\n            console.error(error)\n        }\n    }\n}\n\nexport const sendPassResetEmail = (email: string) => {}\n\nexport const updateEmail = (email: string) => {}\n\nexport const updatePassword = (password: string) => {}\n\nexport const resetUserErrors = () => {\n    return (dispatch: AppDispatch) => {\n        dispatch({ type: CLEAR_USER_ERRORS })\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}