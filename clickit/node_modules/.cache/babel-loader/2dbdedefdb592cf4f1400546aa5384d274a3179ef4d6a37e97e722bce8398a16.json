{"ast":null,"code":"import{useEffect,useState}from'react';import{auth}from'../config/firebase';import{useAppDispatch}from'../store';import{getCurrentUser}from'../actions/user';const useHandleAuthState=()=>{const dispatch=useAppDispatch();const[loaded,setLoaded]=useState(false);const[firstTimeUser,setFirstTimeUser]=useState(true);useEffect(()=>{// get current user on initial load if user is logged in\nauth.onAuthStateChanged(async user=>{// section to get data needed for initial boot\nif(!loaded){}if(user&&user.displayName){await dispatch(getCurrentUser());setLoaded(true);}else{setLoaded(true);}});},[]);return{loaded,firstTimeUser};};export default useHandleAuthState;","map":{"version":3,"names":["useEffect","useState","auth","useAppDispatch","getCurrentUser","useHandleAuthState","dispatch","loaded","setLoaded","firstTimeUser","setFirstTimeUser","onAuthStateChanged","user","displayName"],"sources":["/Users/zacharywolfe/Desktop/ClickitV2/clickit/src/hooks/index.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { auth } from '../config/firebase'\nimport { useAppDispatch } from '../store'\nimport { getCurrentUser } from '../actions/user'\n\nconst useHandleAuthState = () => {\n  const dispatch = useAppDispatch()\n  const [loaded, setLoaded] = useState(false)\n  const [firstTimeUser, setFirstTimeUser] = useState(true)\n\n  useEffect(() => {\n    // get current user on initial load if user is logged in\n    auth.onAuthStateChanged(async (user) => {\n\n      // section to get data needed for initial boot\n      if (!loaded) {\n        \n      }\n\n      if (user && user.displayName) {\n        await dispatch(getCurrentUser())\n        setLoaded(true)\n      } else {\n        setLoaded(true)\n      }\n    })\n  }, [])\n\n  return {\n    loaded,\n    firstTimeUser\n  }\n}\n\nexport default useHandleAuthState\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,oBAAoB,CACzC,OAASC,cAAc,KAAQ,UAAU,CACzC,OAASC,cAAc,KAAQ,iBAAiB,CAEhD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,QAAQ,CAAGH,cAAc,CAAC,CAAC,CACjC,KAAM,CAACI,MAAM,CAAEC,SAAS,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACQ,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAExDD,SAAS,CAAC,IAAM,CACd;AACAE,IAAI,CAACS,kBAAkB,CAAC,KAAO,CAAAC,IAAI,EAAK,CAEtC;AACA,GAAI,CAACL,MAAM,CAAE,CAEb,CAEA,GAAIK,IAAI,EAAIA,IAAI,CAACC,WAAW,CAAE,CAC5B,KAAM,CAAAP,QAAQ,CAACF,cAAc,CAAC,CAAC,CAAC,CAChCI,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,IAAM,CACLA,SAAS,CAAC,IAAI,CAAC,CACjB,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLD,MAAM,CACNE,aACF,CAAC,CACH,CAAC,CAED,cAAe,CAAAJ,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}