{"ast":null,"code":"import{ADD_CART_ITEM,CLEAR_CART,PROMO_CODE_APPLIED,REMOVE_CART_ITEM}from'../actions/cart';const initialState={items:new Map(),tax:0,runningTotalWithoutTax:0};/// eslint-disable-next-line\nexport default(function(){var _state$items$get,_state$items$get2;let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_CART_ITEM:return{...state,items:new Map([...Array.from(state.items),[action.payload,(_state$items$get=state.items.get(action.payload))!==null&&_state$items$get!==void 0?_state$items$get:0+1]]),runningTotalWithoutTax:state.runningTotalWithoutTax+action.payload.price};case REMOVE_CART_ITEM:return{...state,items:new Map([...Array.from(state.items),[action.payload,(_state$items$get2=state.items.get(action.payload))!==null&&_state$items$get2!==void 0?_state$items$get2:0-1]]),runningTotalWithoutTax:state.runningTotalWithoutTax===0?0:state.runningTotalWithoutTax-action.payload.price};case CLEAR_CART:return{...state,items:new Map(),runningTotalWithoutTax:0};case PROMO_CODE_APPLIED:return{...state,runningTotalWithoutTax:state.runningTotalWithoutTax-fetchPromoCodeDiscount(action.payload)};default:return state;}});export function fetchPromoCodeDiscount(arg){const promoCodes=new Map([['10OFF',10],['20OFF',20],['30OFF',30],['40OFF',40],['50OFF',50],['60OFF',60],['70OFF',70],['80OFF',80],['90OFF',90],['100OFF',100],['110OFF',110]]);if(arg in promoCodes){return promoCodes.get(arg);}return 0.0;}","map":{"version":3,"names":["ADD_CART_ITEM","CLEAR_CART","PROMO_CODE_APPLIED","REMOVE_CART_ITEM","initialState","items","Map","tax","runningTotalWithoutTax","_state$items$get","_state$items$get2","state","arguments","length","undefined","action","type","Array","from","payload","get","price","fetchPromoCodeDiscount","arg","promoCodes"],"sources":["/Users/zacharywolfe/Desktop/Clickit/clickit/src/reducers/cart.ts"],"sourcesContent":["import { current, UnknownAction } from '@reduxjs/toolkit'\nimport {\n    ADD_CART_ITEM,\n    CLEAR_CART,\n    PROMO_CODE_APPLIED,\n    REMOVE_CART_ITEM,\n} from '../actions/cart'\n\nexport interface Sku {\n    id: string\n    name: string\n    image: string\n    size: number\n    price: number\n    colorway: string\n    skuStringID?: string\n    gender: string\n    brandName: string\n    laces: boolean\n    condition: boolean\n    bestSeller: boolean\n    manufacturer?: string\n}\n\ninterface shoppingCartState {\n    items: Map<Sku, number>\n    tax: number\n    runningTotalWithoutTax: number\n}\n\nconst initialState: shoppingCartState = {\n    items: new Map<Sku, number>(),\n    tax: 0,\n    runningTotalWithoutTax: 0,\n}\n\n/// eslint-disable-next-line\nexport default (\n    state = initialState,\n    action: UnknownAction,\n): shoppingCartState => {\n    switch (action.type) {\n        case ADD_CART_ITEM:\n            return {\n                ...state,\n                items: new Map([\n                    ...Array.from(state.items),\n                    [\n                        action.payload as Sku,\n                        state.items.get(action.payload as Sku) ?? 0 + 1,\n                    ],\n                ]),\n                runningTotalWithoutTax:\n                    state.runningTotalWithoutTax +\n                    (action.payload as Sku).price,\n            }\n\n        case REMOVE_CART_ITEM:\n            return {\n                ...state,\n                items: new Map([\n                    ...Array.from(state.items),\n                    [\n                        action.payload as Sku,\n                        state.items.get(action.payload as Sku) ?? 0 - 1,\n                    ],\n                ]),\n                runningTotalWithoutTax:\n                    state.runningTotalWithoutTax === 0\n                        ? 0\n                        : state.runningTotalWithoutTax -\n                          (action.payload as Sku).price,\n            }\n        case CLEAR_CART:\n            return {\n                ...state,\n                items: new Map<Sku, number>(),\n                runningTotalWithoutTax: 0,\n            }\n        case PROMO_CODE_APPLIED:\n            return {\n                ...state,\n                runningTotalWithoutTax:\n                    state.runningTotalWithoutTax -\n                    fetchPromoCodeDiscount(action.payload as string),\n            }\n        default:\n            return state\n    }\n}\n\nexport function fetchPromoCodeDiscount(arg: string): number {\n    const promoCodes = new Map<string, number>([\n        ['10OFF', 10],\n        ['20OFF', 20],\n        ['30OFF', 30],\n        ['40OFF', 40],\n        ['50OFF', 50],\n        ['60OFF', 60],\n        ['70OFF', 70],\n        ['80OFF', 80],\n        ['90OFF', 90],\n        ['100OFF', 100],\n        ['110OFF', 110],\n    ])\n\n    if (arg in promoCodes) {\n        return promoCodes.get(arg) as number\n    }\n\n    return 0.0\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}