{"ast":null,"code":"import{updateProfile,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';import{auth}from'../config/firebase';import{GET_USER_REQUEST,GET_USER_SUCCESS,GET_USER_FAILURE,SET_USER_REQUEST,SET_USER_SUCCESS,SET_USER_FAILURE,CLEAR_USER_ERRORS}from'../actions/user';import{authRequestWithDispatch}from'../actions/api';export const getCurrentUser=()=>{return dispatch=>{return authRequestWithDispatch({dispatch,endpoint:'get_current_user',types:[GET_USER_REQUEST,GET_USER_SUCCESS,GET_USER_FAILURE]});};};export const signUpUser=(name,major,email,password,pid,year)=>{return async dispatch=>{dispatch({type:SET_USER_REQUEST});try{const userPromise=await createUserWithEmailAndPassword(auth,email,password);await updateProfile(userPromise.user,{displayName:name});}catch(err){dispatch({type:SET_USER_FAILURE,payload:{message:err.message,status:500}});return;}return authRequestWithDispatch({dispatch,endpoint:'create_user',method:'POST',types:[SET_USER_REQUEST,SET_USER_SUCCESS,SET_USER_FAILURE],data:{name,major,email,pid,year,onboarded:false}});};};export const signInApp=(email,password)=>{return async dispatch=>{dispatch({type:GET_USER_REQUEST});try{await signInWithEmailAndPassword(auth,email,password);}catch(err){dispatch({type:GET_USER_FAILURE,payload:{message:err.message,status:500}});}return;};};export const signOutApp=()=>{return async dispatch=>{dispatch({type:SET_USER_REQUEST,payload:undefined});try{await signOut(auth);}catch(error){console.error(error);}};};export const sendPassResetEmail=email=>{};export const updateEmail=email=>{};export const updatePassword=password=>{};export const resetUserErrors=()=>{return dispatch=>{dispatch({type:CLEAR_USER_ERRORS});};};","map":{"version":3,"names":["updateProfile","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","auth","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAILURE","SET_USER_REQUEST","SET_USER_SUCCESS","SET_USER_FAILURE","CLEAR_USER_ERRORS","authRequestWithDispatch","getCurrentUser","dispatch","endpoint","types","signUpUser","name","major","email","password","pid","year","type","userPromise","user","displayName","err","payload","message","status","method","data","onboarded","signInApp","signOutApp","undefined","error","console","sendPassResetEmail","updateEmail","updatePassword","resetUserErrors"],"sources":["/Users/zacharywolfe/Desktop/Clickit/clickit/src/authentication/firebase.ts"],"sourcesContent":["import {\n    updateProfile,\n    signInWithEmailAndPassword,\n    createUserWithEmailAndPassword,\n    signOut,\n    sendPasswordResetEmail,\n} from 'firebase/auth'\nimport { auth } from '../config/firebase'\nimport { AppDispatch } from '../store'\nimport {\n    GET_USER_REQUEST,\n    GET_USER_SUCCESS,\n    GET_USER_FAILURE,\n    SET_USER_REQUEST,\n    SET_USER_SUCCESS,\n    SET_USER_FAILURE,\n    CLEAR_USER_ERRORS,\n} from '../actions/user'\nimport { authRequestWithDispatch } from '../actions/api'\n\nexport const getCurrentUser = () => {\n    return (dispatch: AppDispatch) => {\n        return authRequestWithDispatch({\n            dispatch,\n            endpoint: 'get_current_user',\n            types: [GET_USER_REQUEST, GET_USER_SUCCESS, GET_USER_FAILURE],\n        })\n    }\n}\n\nexport const signUpUser = (\n    name: string,\n    major: string,\n    email: string,\n    password: string,\n    pid: string,\n    year: number,\n) => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({ type: SET_USER_REQUEST })\n        try {\n            const userPromise = await createUserWithEmailAndPassword(\n                auth,\n                email,\n                password,\n            )\n            await updateProfile(userPromise.user, { displayName: name })\n        } catch (err: any) {\n            dispatch({\n                type: SET_USER_FAILURE,\n                payload: {\n                    message: err.message,\n                    status: 500,\n                },\n            })\n            return\n        }\n\n        return authRequestWithDispatch({\n            dispatch,\n            endpoint: 'create_user',\n            method: 'POST',\n            types: [SET_USER_REQUEST, SET_USER_SUCCESS, SET_USER_FAILURE],\n            data: {\n                name,\n                major,\n                email,\n                pid,\n                year,\n                onboarded: false,\n            },\n        })\n    }\n}\n\nexport const signInApp = (email: string, password: string) => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({ type: GET_USER_REQUEST })\n        try {\n            await signInWithEmailAndPassword(auth, email, password)\n        } catch (err: any) {\n            dispatch({\n                type: GET_USER_FAILURE,\n                payload: {\n                    message: err.message,\n                    status: 500,\n                },\n            })\n        }\n        return\n    }\n}\n\nexport const signOutApp = () => {\n    return async (dispatch: AppDispatch) => {\n        dispatch({\n            type: SET_USER_REQUEST,\n            payload: undefined,\n        })\n        try {\n            await signOut(auth)\n        } catch (error: any) {\n            console.error(error)\n        }\n    }\n}\n\nexport const sendPassResetEmail = (email: string) => {}\n\nexport const updateEmail = (email: string) => {}\n\nexport const updatePassword = (password: string) => {}\n\nexport const resetUserErrors = () => {\n    return (dispatch: AppDispatch) => {\n        dispatch({ type: CLEAR_USER_ERRORS })\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}